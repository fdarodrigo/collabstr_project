{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Collabstr | Creators</title>
    <!-- ****** link home.css in line below ******* -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/header.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/listing.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/search.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/modal.css' %}">
    <meta charset="UTF-8">
    <style>
        /* latin */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 300;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }

        /* latin */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 400;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }

        /* latin */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 600;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }

        /* latin */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 700;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
    <div class="header">
        <div class="header-row">
            <div>
                <img alt="Collabstr logo" class="full-logo-img"
                    src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/logo.svg" />
            </div>
        </div>
    </div>
    <div id="content">
        <div class="hero-holder">
            <h1 class="hero-title title-gradient">Influencer Marketing Made Easy</h1>
            <h2 class="hero-subtitle">Find and hire top Instagram, TikTok, YouTube, and UGC influencers to create unique
                content for your brand</h2>

            <form class="search-form-holder" method="get" action="/influencers">
                <div class="search-holder">
                    <div class="filter-section platform-filter-section">
                        <div class="filter-title">Platform</div>
                        <div class="js-filter-placeholder filter-placeholder">Choose a platform</div>
                        <div class="filter-dropdown-holder platform-dropdown-holder" style="display: none;">
                            <div class="filter-dropdown-option" data-id="">Any</div>

                            <div class="filter-dropdown-option" data-id="instagram">Instagram</div>

                            <div class="filter-dropdown-option" data-id="tiktok">TikTok</div>

                            <div class="filter-dropdown-option" data-id="user generated content">User Generated Content
                            </div>

                            <div class="filter-dropdown-option" data-id="youtube">YouTube</div>

                            <div class="filter-dropdown-option" data-id="twitter">Twitter</div>

                            <div class="filter-dropdown-option" data-id="twitch">Twitch</div>

                        </div>

                        <select class="mobile-select-dropdown">
                            <option value="">All</option>
                            <option value="instagram">Instagram</option>
                            <option value="tiktok">TikTok</option>
                            <option value="user generated content">User Generated Content</option>
                            <option value="youtube">YouTube</option>
                            <option value="twitter">Twitter</option>
                            <option value="twitch">Twitch</option>

                        </select>

                        <input type="hidden" name="p" value="">
                    </div>

                    <button type="button" class="search-btn">
                        <img alt="Search" class="search-img"
                            src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/search.svg">
                    </button>
                </div>

            </form>
        </div>

        <div class="sections-holder">
            <div class="section-holder">
                <h2 class="section-title">Featured</h2>
                <h3 class="section-subtitle">Hire top influencers across all platforms<span class="explore-btn"
                        onclick="location.href='/influencers';">See All</span></h3>

                <!-- Esse Ã© o meu -->
                <div class="listing-row">
                    {% for content in contents %}

                    <div class="profile-listing-holder" data-url="{{ content.url }}">
                        <div class="profile-listing-img-holder">
                            {% if content.is_video %}
                            <video class="profile-listing-img" controls>
                                <source src="{{ content.url }}" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <button onclick="window.open('{{ content.url }}', '_blank')">Play Video</button>
                            {% else %}
                            <img class="profile-listing-img" src="{{ content.url }}" alt="{{ content.creator.name }}">
                            <button onclick="window.open('{{ content.url }}', '_blank')">Download Image</button>
                            {% endif %}
                            <div class="profile-listing-owner-holder">
                                <div class="profile-listing-owner-info-holder">
                                    <div class="profile-listing-owner-name">{{ content.creator.name }}</div>
                                    <div class="profile-listing-owner-location">{{ content.creator.location }}</div>
                                </div>
                            </div>
                        </div>
                        <div class="profile-listing-info-row">
                            <div class="profile-listing-category">{{ content.creator.platform }}</div>
                            <div class="profile-listing-price">${{ content.creator.rating|floatformat:2 }}</div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <div class="modal" style="display: none;">
                <div class="modal-content-holder" style="width: 55vw; max-height: 85%;">
                    <div class="modal-content-header">
                        <div class="close-modal"><img class="close-modal-img"
                                src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/closeModal.svg">
                        </div>
                    </div>
                    <div class="modal-content-scroll">
                        <div class="show-all-holder show-all-holder-3">

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>
<script>
    $(document).ready(function () {

    });

    let searchInput = $('.filter-search-input');
    let clearInputBtn = $('.clear-input-btn');

    // hide filters if clicked outside
    $(document).on('click', function (e) {
        if ($(e.target).closest(".search-form-holder").length === 0) {
            $(".filter-dropdown-holder").hide();
            hideClearBtn();
        }

        let dropdown = $(".filters-btn-dropdown");
        if (!dropdown.is(e.target) && dropdown.has(e.target).length === 0) dropdown.hide();
    });

    $('.filter-section').click(function () {
        let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        if (width >= 800 || $(this).hasClass('category-filter-section')) {
            let dropdown = $(this).find('.filter-dropdown-holder');
            let hide = !dropdown.is(':visible');
            $('.filter-dropdown-holder').hide(); // hide all dropdowns
            if (hide) dropdown.show();
        }
    });

    $('.mobile-select-dropdown').change(function () {
        $(this).siblings('.filter-dropdown-holder').find(`[data-id='${$(this).val()}']`).click();
    });

    // platform click
    $('.filter-dropdown-holder .filter-dropdown-option').click(function (e) {
        let parent = $(this).parent('.filter-dropdown-holder');
        let txt = $(this).text();
        let id = $(this).data('id');
        parent.children('.filter-dropdown-option').removeClass('filter-dropdown-option-selected'); // reset all options styling
        $(this).addClass('filter-dropdown-option-selected'); // set new options styling
        let placeholder = parent.siblings('.js-filter-placeholder');
        placeholder.text(txt).removeClass('filter-placeholder').addClass('filter-placeholder-chosen');
        let currPlarform = parent.siblings('input').val();
        parent.siblings('input').val(id); // set input
        parent.hide();
        e.stopPropagation();


    });

    $('.category-filter-section').click(function () {
        searchInput.focus();
    });

    // category click
    $('.filter-search-input-pop-option').click(function (e) {
        let id = $(this).data('id');
        let txt = searchInput.val();
        if (txt && txt.slice(-1) !== ' ') txt += ' ';
        searchInput.val(txt + id + ' '); // set input
        searchInput.focus(); // type on input
        e.stopPropagation();

        let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        if (width <= 800) {
            hideCategoryDropdown();
        }
    });

    searchInput.focus(function () {
        if (searchInput.val().trim()) showClearBtn();
    });

    function showClearBtn() {
        clearInputBtn.css('display', 'flex');
    }

    function hideClearBtn() {
        clearInputBtn.hide();
    }

    clearInputBtn.click(function (e) {
        e.stopPropagation();
        searchInput.val('').focus();
        $(this).hide();
    });

    function chooseKeyword(el, e) {
        let id = $(el).data('id');
        let txt = searchInput.val();

        let val = searchInput.val();
        let breakIdx = getDelimiter(val);
        // replace word after this with autofill
        if (breakIdx !== -1) {
            searchInput.val(txt.substring(0, breakIdx) + ' ' + id + ' ');
        } else {
            searchInput.val(txt.substring(0, breakIdx) + id + ' ');
        }

        searchInput.focus(); // type on input
        e.stopPropagation();
        hideSuggestions();

        let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        if (width <= 800) {
            hideCategoryDropdown();
        }
    }

    $('.search-btn, .apply-filter-btn, .filters-btn-dropdown-footer .btn').click(function () {
        btnLoad($(this));

        if (typeof countries !== 'undefined') {
            let delimitedCountries = countries.join(', ');
            $(`[name='ct']`).val(`${delimitedCountries}`);
        }

        // dont show empty params in url
        $('.search-form-holder input, .search-form-holder select').each(function () { if (!$(this).val()) $(this).attr('name', ''); });
        // dont add price in params if default
        if ($('[name="pmi"]').val() === '50' && $('[name="pmx"]').val() === '3000') {
            $('[name="pmi"]').attr('name', '');
            $('[name="pmx"]').attr('name', '');
        }
        // dont add followers in params if default
        if ($('[name="fmi"]').val() === '0' && $('[name="fmx"]').val() === '1000000') {
            $('[name="fmi"]').attr('name', '');
            $('[name="fmx"]').attr('name', '');
        }

        $('.search-form-holder').submit();
    });

    let searchCategories = ['Lifestyle', 'Fashion', 'Beauty', 'Travel', 'Health &amp; Fitness', 'Food &amp; Drink', 'Comedy &amp; Entertainment', 'Family &amp; Children', 'Model', 'Art &amp; Photography', 'Music &amp; Dance', 'Animals &amp; Pets', 'Adventure &amp; Outdoors', 'Education', 'Entrepreneur &amp; Business', 'Athlete &amp; Sports', 'LGBTQ2+', 'Gaming', 'Vegan', 'Technology', 'Actor', 'Healthcare', 'Skilled Trades', 'Automotive', 'Cannabis', 'Celebrity &amp; Public Figure', 'Medical', 'Actress', 'Funny', 'Humor', 'Dancing', 'Parent', 'Weed', 'Marijuana', 'Plant Based', 'Gamer', 'Streamer', 'CBD', 'Acting', 'Foodie', 'Eyelash', 'Body Positivity', 'Nature', 'Mom', 'Dad', 'Boxing', 'Cosplay', 'Ski', 'Bike', 'Skincare', 'Swimwear', 'Streetwear', 'Nomad', 'Home Decor', 'Finance', 'Law', 'Realtor', 'Money', 'NFT', 'Doctor', 'Dentist', 'Nurse', 'Yoga', 'Wellness', 'CrossFit', 'Gym', 'Running', 'Tennis', 'Basketball', 'Soccer', 'College Athlete', 'NCAA', 'Snowboard', 'Teacher', 'Student', 'School', 'Coach', 'Dog', 'Cat', 'ASMR', 'Prank', 'Magic', 'Cooking', 'Baking', 'Keto', 'Gluten Free', 'Coffee', 'Wine', 'Beer', 'Recipe', 'Vegetarian', 'Hiking', 'Fishing', 'Hunting', 'Sewing', 'Drawing', 'Film', 'Guitar', 'Singer', 'Rap', 'Hip Hop', 'Car', 'Motorcycle', 'Mechanic', 'Driving', 'Racing', 'Relationship', 'Gay', 'Transgender', 'Cosmetic', 'Perfume', 'Pedicure', 'Tattoo', 'Tanning', 'Dermatologist', 'Nail', 'Esthetician', 'Weight Loss', 'Hiit', 'Psychedelic', 'Strength Training', 'Powerlifting', 'Pilates', 'Meal Prep', 'Songwriter', 'Design', 'Software Developer', 'Hair', 'Makeup', 'Painter', 'Blogger', 'Investing', 'Crypto', 'Nutrition', 'Hockey', 'Football', 'Skateboard', 'DIY', 'Horse', 'Restaurant', 'Chef', 'Camping', 'Truck', 'Renovation', 'Couple', 'Manicure', 'Cosmetologist', 'Cold Therapy', 'Personal Trainer', 'Bartender', 'Dessert', 'Charcuterie', 'Movie', 'Science', 'Meme', 'Theater', 'Architect', 'Music Producer', 'Non Binary', 'Dj', 'Ceramics', 'Animation', 'Musician', 'Engineer', 'Robotics', 'Ecommerce', 'Dropshipping', 'Stock Market', 'Startup', 'Marketing', 'Construction', 'Kayaking', 'Exploration', 'Survival', 'Climbing', 'Parkour', 'Baseball', 'Skydiver', 'Softball', 'Volleyball', 'VFX', 'Book', 'Christian',];
    let searchCategoriesDict = {

        "Lifestyle": ['Home Decor', 'Blogger', 'Christian',],

        "Fashion": ['Swimwear', 'Streetwear',],

        "Beauty": ['Eyelash', 'Skincare', 'Cosmetic', 'Perfume', 'Pedicure', 'Tattoo', 'Tanning', 'Dermatologist', 'Nail', 'Esthetician', 'Hair', 'Makeup', 'Manicure', 'Cosmetologist',],

        "Travel": ['Nomad',],

        "Health &amp; Fitness": ['Body Positivity', 'Yoga', 'Wellness', 'CrossFit', 'Gym', 'Weight Loss', 'Hiit', 'Psychedelic', 'Strength Training', 'Powerlifting', 'Pilates', 'Nutrition', 'Cold Therapy', 'Personal Trainer',],

        "Food &amp; Drink": ['Cooking', 'Baking', 'Keto', 'Gluten Free', 'Coffee', 'Wine', 'Beer', 'Recipe', 'Vegetarian', 'Meal Prep', 'Restaurant', 'Chef', 'Bartender', 'Dessert', 'Charcuterie',],

        "Comedy &amp; Entertainment": ['ASMR', 'Prank', 'Magic', 'Movie', 'Science', 'Meme',],

        "Family &amp; Children": ['Mom', 'Dad', 'Relationship', 'Couple',],

        "Model": [],

        "Art &amp; Photography": ['Sewing', 'Drawing', 'Film', 'Design', 'Painter', 'Theater', 'Architect', 'Music Producer', 'Dj', 'Ceramics', 'Animation', 'Musician',],

        "Music &amp; Dance": ['Guitar', 'Singer', 'Rap', 'Hip Hop', 'Songwriter',],

        "Animals &amp; Pets": ['Dog', 'Cat', 'Horse',],

        "Adventure &amp; Outdoors": ['Nature', 'Hiking', 'Fishing', 'Hunting', 'Camping', 'Kayaking', 'Exploration', 'Survival', 'Climbing',],

        "Education": ['Teacher', 'Student', 'School', 'Coach', 'DIY', 'Book',],

        "Entrepreneur &amp; Business": ['Finance', 'Law', 'Realtor', 'Money', 'NFT', 'Investing', 'Crypto', 'Ecommerce', 'Dropshipping', 'Stock Market', 'Startup', 'Marketing',],

        "Athlete &amp; Sports": ['Boxing', 'Ski', 'Bike', 'Running', 'Tennis', 'Basketball', 'Soccer', 'College Athlete', 'NCAA', 'Snowboard', 'Hockey', 'Football', 'Skateboard', 'Parkour', 'Baseball', 'Skydiver', 'Softball', 'Volleyball',],

        "LGBTQ2+": ['Gay', 'Transgender', 'Non Binary',],

        "Gaming": ['Cosplay',],

        "Vegan": [],

        "Technology": ['Software Developer', 'Engineer', 'Robotics', 'VFX',],

        "Actor": [],

        "Healthcare": ['Doctor', 'Dentist', 'Nurse',],

        "Skilled Trades": ['Renovation', 'Construction',],

        "Automotive": ['Car', 'Motorcycle', 'Mechanic', 'Driving', 'Racing', 'Truck',],

        "Cannabis": [],

        "Celebrity &amp; Public Figure": [],


        "Medical": ['Doctor', 'Dentist', 'Nurse',],

        "Actress": [],

        "Funny": ['ASMR', 'Prank', 'Magic', 'Movie', 'Science', 'Meme',],

        "Humor": ['ASMR', 'Prank', 'Magic', 'Movie', 'Science', 'Meme',],

        "Dancing": ['Guitar', 'Singer', 'Rap', 'Hip Hop', 'Songwriter',],

        "Parent": ['Mom', 'Dad', 'Relationship', 'Couple',],

        "Weed": [],

        "Marijuana": [],

        "Plant Based": [],

        "Gamer": ['Cosplay',],

        "Streamer": ['Cosplay',],

        "CBD": [],

        "Acting": [],

        "Foodie": ['Cooking', 'Baking', 'Keto', 'Gluten Free', 'Coffee', 'Wine', 'Beer', 'Recipe', 'Vegetarian', 'Meal Prep', 'Restaurant', 'Chef', 'Bartender', 'Dessert', 'Charcuterie',],

    };
    let suggestionArea = $('.filter-search-input-suggestion-area');
    let suggestionHolder = $('.filter-search-input-suggestion-holder');

    searchInput.keyup(function (e) {
        if (e.keyCode === 13) {
            $(this).blur();
            hideCategoryDropdown();
            $('.search-btn').click();
            return;
        }

        let val = $(this).val();
        let breakIdx = getDelimiter(val);
        // only match word after delimiter
        if (breakIdx !== -1) {
            val = val.substring(breakIdx + 1);
        }

        // always show dropdown when typing
        $('.category-dropdown-holder').show();
        hideSuggestions();

        if (val.trim()) {
            showClearBtn();
            let results = [];
            for (let i = 0; i < searchCategories.length; i++) {
                let arrVal = searchCategories[i];
                // loop and get matching results
                if (htmlDecode(arrVal.toUpperCase()).includes(val.toUpperCase())) results.push(arrVal);
            }

            // sort results
            results.sort(compare);

            // add results
            for (let i = 0; i < Math.min(results.length, 4); i++) {
                suggestionHolder.append(`<div class='filter-search-input-suggestion-option' data-id='${results[i]}' onclick='chooseKeyword(this, event)'>${results[i]}</div>`);
            }
            if (results.length) suggestionArea.show();

            if (suggestionHolder.children().length < 5 && suggestionHolder.children().length > 0) {
                // get top result
                let topResult = $('.filter-search-input-suggestion-option').first().data('id');
                // if its a niche
                if (htmlEncode(topResult) in searchCategoriesDict) {
                    // list more subniches
                    let subNiches = searchCategoriesDict[htmlEncode(topResult)];
                    let count = 5 - suggestionHolder.children().length;
                    for (let i = 0; i < Math.min(count, subNiches.length); i++) {
                        suggestionHolder.append(`<div class='filter-search-input-suggestion-option' data-id='${subNiches[i]}' onclick='chooseKeyword(this, event)'>${subNiches[i]}</div>`);
                    }
                } else {
                    // if its a subniche
                    Object.keys(searchCategoriesDict).forEach(function (key) {
                        let subNiches = searchCategoriesDict[key];
                        if (subNiches.includes(topResult)) {
                            // list niche if not already in results
                            if (!results.includes(key)) suggestionHolder.append(`<div class='filter-search-input-suggestion-option' data-id='${key}' onclick='chooseKeyword(this, event)'>${key}</div>`);
                            // list more subniches with same parent
                            let count = 5 - suggestionHolder.children().length;
                            for (let i = 0; i < Math.min(count, subNiches.length); i++) {
                                // loop results
                                let add = true;
                                $('.filter-search-input-suggestion-option').each(function () {
                                    // if subniche already in results
                                    if ($(this).data('id') === subNiches[i]) {
                                        add = false;
                                        return false;
                                    }
                                });
                                if (add) suggestionHolder.append(`<div class='filter-search-input-suggestion-option' data-id='${subNiches[i]}' onclick='chooseKeyword(this, event)'>${subNiches[i]}</div>`)
                            }
                        }
                    });
                }
            }
        } else {
            hideClearBtn();
        }
    });






    // MODAL

    $(document).ready(function () {
        function hideModal() {
            $(".modal").hide();
            $('.modal-content-holder').css('width', '500px');
            allowScroll();
        }

        function showModal(content, width, alreadyOpen) {
            if (content) $(".modal-content-holder").html(content);
            if (width) $('.modal-content-holder').css('width', width);
            $(".modal").css('display', 'flex');
            if (!alreadyOpen) preventScroll();
        }

        function preventScroll() {
            const scrollY = window.scrollY;
            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollY}px`;
            document.body.style.overflow = 'hidden';
        }

        function allowScroll() {
            const scrollY = document.body.style.top;
            document.body.style.position = '';
            document.body.style.top = '';
            document.body.style.overflow = '';
            window.scrollTo(0, parseInt(scrollY || '0') * -1);
        }

        function hideModalPackage() {
            $(".modal-package").hide();
            $('.modal-content-holder-package').css('width', 'initial');
        }

        function showModalPackage(content, width) {
            if (content) $(".modal-content-holder-package").html(content);
            if (width) $('.modal-content-holder-package').css('width', width);
            $(".modal-package").css('display', 'flex');
        }

        $(document).on('click', '.close-modal, .btn-close-modal', function () {
            hideModal();
        });

        $(document).on('click', '.close-modal-package', function () {
            hideModalPackage();
        });

        $(document).on('click', function (e) {
            if ($(e.target).is('.modal') && !$('.modal').find('iframe').length) {
                hideModal();
            }
            if ($(e.target).is('.modal-package')) {
                hideModalPackage();
            }
        });

        $('.profile-listing-holder').click(function () {
            event.preventDefault(); // Impede o comportamento padrÃ£o do clique

            console.log("A FUNÃÃO ESTÃ PRESTANDO");

            let url = $(this).data('url');
            let content;

            if (url.endsWith('.mp4') || url.endsWith('.mov')) {
                content = `<video controls>
                           <source src="${url}" type="video/mp4">
                           Your browser does not support the video tag.
                       </video>`;
            } else {
                content = `<img loading="lazy" class="img" src="${url}">`;
            }

            showModal(content, '55vw');

            let parent = $(this);
            let modal = $('.modal-package');
            modal.find('.modal-content-header-title-txt').text('Title');
            modal.find('.modal-content-header-title-img').attr('src', "IMAGE");
            modal.find('.modal-content-package-img-holder').addClass(parent.find('.package-img-holder').attr('class'));
            modal.find('.modal-package-price').text("PRICE");
            modal.find('.modal-package-desc').text("DESC");
            modal.find('.modal-btn').data('id', "ID");
            showModalPackage('', '550px');
        });
    });


    // END MODAL






    function compare(a, b) {
        // sort b before a
        if (a.length > b.length) return 1;
        if (a.length < b.length) return -1;
        // a must be equal to b
        return 0;
    }

    function hideCategoryDropdown() {
        $('.category-dropdown-holder').hide();
    }

    function hideSuggestions() {
        suggestionArea.hide();
        suggestionHolder.html('');
    }

    function htmlDecode(value) {
        return $("<textarea/>").html(value).text();
    }

    function htmlEncode(value) {
        return $("<textarea/>").text(value).html();
    }

    function getDelimiter(str) {
        for (let i = str.length - 1; i >= 0; i--) {
            let c = str.charAt(i);
            // if not letter, number or &
            if (!/([a-zA-Z0-9&])\w*/.test(c)) {
                return i;
            }
        }
        return -1; // no alphanumeric character at all
    }


</script>

</html>